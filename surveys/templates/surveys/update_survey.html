<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Update Survey - GMU Survey</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    {% load static %}
    <style>
        body {
            background-image: url("{% static 'images/main_bg.jpg' %}");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            min-height: 100vh;
            background-color: #f0f2f5;
        }
        .card-header {
            background-color: #fcbf49;
        }
        .btn-warning {
            background-color: #fcbf49;
            border-color: #fcbf49;
            color: #000;
        }
        .btn-warning:hover {
            background-color: #e0a800;
            border-color: #e0a800;
        }
    </style>
</head>
<body>
<div class="container d-flex justify-content-center align-items-center mt-5">
    <div class="card shadow-lg w-100" style="max-width: 720px;">
        <div class="card-header text-white text-center">
            <img src="{% static 'images/GMU_Logo_2.png' %}" alt="GMU Logo" height="60" class="mb-2">
            <h3 class="mb-0 fw-semibold">Update Survey</h3>
        </div>
        <div class="card-body p-4">
            <form method="POST" class="row g-3 needs-validation" novalidate>
                {% csrf_token %}

                <div class="col-md-6">
                    <label class="form-label">First Name</label>
                    <input type="text" name="first_name" class="form-control" value="{{ survey.first_name }}" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Last Name</label>
                    <input type="text" name="last_name" class="form-control" value="{{ survey.last_name }}" required>
                </div>

                <div class="col-12">
                    <label class="form-label">Street Address</label>
                    <input type="text" name="street_address" class="form-control" value="{{ survey.street_address }}" required>
                </div>

                <div class="col-md-4">
                    <label class="form-label">City</label>
                    <input type="text" name="city" class="form-control" value="{{ survey.city }}" required>
                </div>
                <div class="col-md-4">
                    <label class="form-label">State</label>
                    <input type="text" name="state" class="form-control" value="{{ survey.state }}" required>
                </div>
                <div class="col-md-4">
                    <label class="form-label">Zip Code</label>
                    <input type="text" name="zip_code" class="form-control" value="{{ survey.zip_code }}" required>
                </div>

                <div class="col-md-6">
                    <label class="form-label">Phone Number</label>
                    <input type="text" name="telephone_number" class="form-control" value="{{ survey.telephone_number }}" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Email</label>
                    <input type="email" name="email" class="form-control" value="{{ survey.email }}" required>
                </div>

                <div class="col-12">
                    <label class="form-label">Survey Date</label>
                    <input type="date" name="date_of_survey" class="form-control"
                           value="{{ survey.date_of_survey|date:'Y-m-d' }}" required>
                </div>

                <div class="col-12">
                    <label class="form-label fw-bold">What did you like most about the campus?</label><br>
                    {% for option in liked_options %}
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" name="liked_most"
                                   value="{{ option }}" {% if option in survey.liked_most %}checked{% endif %}>
                            <label class="form-check-label">{{ option }}</label>
                        </div>
                    {% endfor %}
                </div>

                <div class="col-12">
                    <label class="form-label fw-bold">How did you hear about us?</label><br>
                    {% for option in source_options %}
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="source_of_interest"
                                   value="{{ option }}" {% if option == survey.source_of_interest %}checked{% endif %}>
                            <label class="form-check-label">{{ option }}</label>
                        </div>
                    {% endfor %}
                </div>

                <div class="col-12">
                    <label class="form-label fw-bold">Likelihood of Recommendation</label>
                    <select class="form-select" name="likelihood" required>
                        <option value="" disabled>Select likelihood</option>
                        {% for choice in likelihood_choices %}
                            <option value="{{ choice }}" {% if survey.likelihood == choice %}selected{% endif %}>
                                {{ choice }}
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <div class="col-12">
                    <label class="form-label">Additional Comments</label>
                    <textarea name="comments" class="form-control" rows="3">{{ survey.comments }}</textarea>
                </div>

                <div class="col-12 text-center mt-3">
                    <button type="submit" class="btn btn-warning px-4">Update</button>
                    <a href="/surveys/" class="btn btn-secondary ms-2 px-4">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>
